function PagerBar(c){var f=11;var q="#ebf9ff";var m="#c2e8f8";var g="#00aaee";var a="#ffffff";var z=29;var s=1;var r=1;var y=12;var n=f;var o=f;var v=null;var b=null;var A=null;var t=true;if(c.scaleLen!=undefined){z=c.scaleLen}if(c.scaleBgColor!=undefined){q=c.scaleBgColor}if(c.scaleBorderColor!=undefined){m=c.scaleBorderColor}if(c.currentPage!=undefined){s=c.currentPage}if(c.showScaleSize!=undefined){o=c.showScaleSize;if(o%2==0){o+=1}if(c.showScaleSize>f){n=c.showScaleSize}}if(c.textColor!=undefined){g=c.textColor}if(c.textClickedColor!=undefined){a=c.textClickedColor}if(c.clickEvent!=undefined){b=c.clickEvent}if(c.pageSize!=undefined){y=c.pageSize}else{alert("必须设置总共有好多页pageSize属性！！！");return null}if(c.renderTo!=undefined){A=c.renderTo}else{alert("必须指定目标容器，以便将分页控件渲染到其中！！！");return null}var k=null;var u=[];var B=null;var w=null;this.setClickEvent=function(C){b=C};this.getCurrentPage=function(){return s};this.setTotalCount=function(C){v=C;if(v&&v>0&&w){var D=w.getElementsByTagName("span");if(D&&D.length>0){D[0].innerText=v;w.style.display=""}}};this.setPageSize=function(C){if(C<=o){k.parentNode.removeChild(k);k=null;u=[];B=null;n=C;s=1;r=1;y=C;this.creatControl();this.initPageData()}else{if(C>o&&o<f){k.parentNode.removeChild(k);k=null;u=[];B=null;n=o;s=1;r=1;y=C;this.creatControl();this.initPageData()}else{j(C)}}};this.setChangePage=function(C){B.value=C;l(C)};var j=function(F){i(r);var E=F;var C=Math.ceil(n/2);if(F<y){if(F-s>0&&F-s<n){for(var D=n;D>=1;D--){if(s==E){e(D);r=D}u[D].innerHTML=E;E--}if(b!=null){b(s)}}else{if(F<s){for(var D=1;D<C;D++){u[D].innerHTML=D}u[C].innerHTML="...";for(var D=n;D>C;D--){u[D].innerHTML=E;E--}e(1);r=1;s=1}else{for(var D=n;D>C;D--){u[D].innerHTML=E;E--}e(r)}}}else{for(var D=1;D<C;D++){u[D].innerHTML=D}u[C].innerHTML="...";for(var D=n;D>C;D--){u[D].innerHTML=E;E--}e(1);r=1;s=1}y=F};var x=function(){};this.creatControl=function(){var K=(z+2)*(n+2)+((n+2)-1)*5+30+(12+(z-12)/3)*2+z+45+10-5;var M=z;k=document.createElement("div");k.style.cssText="border:0px dashed red;width:auto;height:"+(M+2)+"px !important; height:"+M+"px;";A.appendChild(k);if(n>=y){n=y;t=true}else{t=false}for(var H=0;H<n+2;H++){var G=document.createElement("div");G.index=H;G.style.cssText="border:1px solid "+m+";width:"+z+"px;height:"+z+"px;float:left;margin-left:5px;text-align:center;vertical-align:middle;line-height:"+z+"px;font-size:12px;color:"+g+";background-color:"+q+";cursor: pointer;";G.innerHTML=H;u.push(G);k.appendChild(G)}u[0].style.marginLeft=0;u[0].innerHTML="◀";u[u.length-1].innerHTML="▶";e(r);var L=document.createElement("div");L.style.cssText="border:0px dashed black;margin-left:15px;height:"+z+"px;width:"+((12+(z-12)/3)*2)+"px;float:left;font-size:"+(12+(z-12)/8)+"px;text-align:center;vertical-align:middle;line-height:"+z+"px;";L.innerHTML="跳至";k.appendChild(L);var C=document.createElement("div");C.style.cssText="border:1px solid "+m+";margin-left:15px;width:45px;height:"+(z)+"px;float:left;text-align:left;";k.appendChild(C),C.innerHTML="<input type='text' value='' style='border:0px;color:"+g+";margin-left:0px !important; margin-left:-15px;width:100%;height:"+(z-2)+"px;border:0px;font-size:12px;vertical-align:middle;line-height:"+(z-2)+"px;'>";var D=!!window.ActiveXObject,F=D&&!window.XMLHttpRequest,E=z;if(F){E+=2}var J=document.createElement("div");J.style.cssText="border:1px solid "+m+";border-left:0px;background-color:"+q+";width:"+z+"px;height:"+E+"px;float:left;line-height:"+z+"px;vertical-align:middle;text-align:center;font-size:12px;font-weight:bold;color:"+g+";cursor: pointer;";J.innerHTML="GO";k.appendChild(J);var I=document.createElement("div");w=I;I.style.cssText="display:none;margin-left:15px;height:"+z+"px;width:"+((20+(z-12)/3)*2)+"px;float:left;font-size:"+(12+(z-12)/8)+"px;text-align:center;vertical-align:middle;line-height:"+z+"px;";I.innerHTML='共&nbsp;<span style="font-size:12px;color:'+g+'">0</span>&nbsp;条';k.appendChild(I);B=C.childNodes.item(0);B.attachEvent&&B.attachEvent("onkeypress",this.keydownTextFeild);B.addEventListener&&B.addEventListener("keypress",this.keydownTextFeild,false);J.attachEvent&&J.attachEvent("onclick",l);J.addEventListener&&J.addEventListener("click",l,false)};var e=function(C){u[C].style.backgroundColor=g;u[C].style.borderColor=g;u[C].style.color=a};var i=function(C){u[C].style.backgroundColor=q;u[C].style.borderColor=m;u[C].style.color=g};var d=function(C){return C-48};this.keydownTextFeild=function(D){var C=window.event?D.keyCode:D.which;if(C==8){}else{if(C>=48&&C<=57){if(parseInt(B.value+d(C))>y){D.returnValue=false;D.preventDefault&&D.preventDefault()}}else{if(C==13){if(B.value==""||B.value==undefined){return}l()}else{D.returnValue=false;D.preventDefault&&D.preventDefault()}}}};var l=function(G){var F;if(G==undefined||typeof G=="object"){F=parseFloat(B.value)}else{F=G}if(F>y||F<1||isNaN(F)){return}i(r);s=F;var C=Math.ceil(n/2);var E=y;if(y-F<n){for(var D=n;D>=1;D--){if(E==F){e(D);r=D}u[D].innerHTML=E;E--}u[C].attachEvent&&u[C].attachEvent("onclick",p.clickScale);u[C].addEventListener&&u[C].addEventListener("click",p.clickScale,false)}else{for(var D=1;D<C;D++){u[D].innerHTML=F;F++}u[C].innerHTML="...";u[C].detachEvent&&u[C].detachEvent("onclick",p.clickScale);u[C].removeEventListener&&u[C].removeEventListener("click",p.clickScale,false);for(var D=n;D>C;D--){u[D].innerHTML=E;E--}e(1);r=1}if(b!=null){b(s)}};this.initPageData=function(){var C=Math.ceil(n/2);if(y<n){return}var F=0;if(t){for(var E=1;E<=u.length-2;E++){u[E].innerHTML=E;u[E].attachEvent&&u[E].attachEvent("onclick",this.clickScale);!u[E].attachEvent&&u[E].addEventListener&&u[E].addEventListener("click",this.clickScale,false)}}else{for(var E=1;E<u.length-2;E++){if(E!=C){u[E].innerHTML=E;u[E].attachEvent&&u[E].attachEvent("onclick",this.clickScale);!u[E].attachEvent&&u[E].addEventListener&&u[E].addEventListener("click",this.clickScale,false)}else{u[E].innerHTML="...";u[E].detachEvent&&u[E].detachEvent("onclick",p.clickScale);!u[E].detachEvent&&u[E].removeEventListener&&u[E].removeEventListener("click",p.clickScale,false);F=E;break}}var D=y;for(var E=u.length-2;E>F;E--){u[E].innerHTML=D;D--;u[E].attachEvent&&u[E].attachEvent("onclick",this.clickScale);!u[E].attachEvent&&u[E].addEventListener&&u[E].addEventListener("click",this.clickScale,false)}}u[0].attachEvent&&u[0].attachEvent("onclick",this.backPage);!u[0].attachEvent&&u[0].addEventListener&&u[0].addEventListener("click",this.backPage,false);u[u.length-1].attachEvent&&u[u.length-1].attachEvent("onclick",this.nextPage);!u[u.length-1].attachEvent&&u[u.length-1].addEventListener&&u[u.length-1].addEventListener("click",this.nextPage,false)};this.backPage=function(F){if(s<=1){return}i(r);r--;s--;var C=Math.ceil(n/2);var D=Math.ceil((C-1)/2)==1?Math.ceil((C-1)/2)+1:Math.ceil((C-1)/2);var E=Math.ceil((n-C)/2)+C;h(r,s,C,D,E)};this.nextPage=function(F){if(s>=y){return}i(r);r++;s++;var C=Math.ceil(n/2);var D=Math.ceil((C-1)/2)==1?Math.ceil((C-1)/2)+1:Math.ceil((C-1)/2);var E=Math.ceil((n-C)/2)+C;h(r,s,C,D,E)};var p=this;this.clickScale=function(H){var F=H.target||window.event.srcElement;var D=F.index;s=parseFloat(F.innerHTML);var C=Math.ceil(n/2);var E=Math.ceil((C-1)/2)==1?Math.ceil((C-1)/2)+1:Math.ceil((C-1)/2);var G=Math.ceil((n-C)/2)+C;h(D,s,C,E,G)};var h=function(E,G,D,H,J){i(r);if(u[E+1].innerHTML=="..."){var I=G-(D-H);var C=parseFloat(u[D+1].innerHTML);if(I+D>=C){I=(C-1)-D;u[D].attachEvent&&u[D].attachEvent("onclick",p.clickScale);u[D].addEventListener&&u[D].addEventListener("click",p.clickScale,false);D++}for(var F=1;F<D;F++){I++;u[F].innerHTML=I;if(G==I){e(F);r=F}}}else{if(u[E-1].innerHTML=="..."){var I=G-(J-D);var C=parseFloat(u[D-1].innerHTML);if(I<=C){u[D].attachEvent&&u[D].attachEvent("onclick",p.clickScale);u[D].addEventListener&&u[D].addEventListener("click",p.clickScale,false);D-=1;I=C+1}for(var F=D+1;F<=n;F++){u[F].innerHTML=I;if(G==I){e(F);r=F}I++}}else{if(E==1){if(!t){if(parseFloat(u[n-1].innerHTML)>n-1){u[D].innerHTML="...";u[D].detachEvent&&u[D].detachEvent("onclick",p.clickScale);u[D].removeEventListener&&u[D].removeEventListener("click",p.clickScale,false)}}var I=G-(D-H)-1;if(I<=1){I=0}if(!t){for(var F=1;F<D;F++){I++;u[F].innerHTML=I;if(G==I){e(F);r=F}}}else{for(var F=1;F<=D;F++){I++;u[F].innerHTML=I;if(G==I){e(F);r=F}}}}else{if(E==n){if(!t){if(y-parseFloat(u[1].innerHTML)>n-1){u[D].innerHTML="...";u[D].detachEvent&&u[D].detachEvent("onclick",p.clickScale);u[D].removeEventListener&&u[D].removeEventListener("click",p.clickScale,false)}}var I=G+(J-D);if(I>=y){I=y}for(var F=n;F>=D+1;F--){u[F].innerHTML=I;if(G==I){e(F);r=F}I--}}else{e(E);r=E}}}}if(b!=null){b(G)}};this.creatControl();this.initPageData()};
